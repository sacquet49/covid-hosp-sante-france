<div class="p-col-10 p-offset-1">
  <h1 class="ass-label-gray card">Graphique des patients covid à l'hôpital en France par tranche d'âge.</h1>

  <div class="p-fluid p-grid p-formgrid p-mb-2">
    <div class="p-field p-col-12 p-md-3">
      <p-calendar [(ngModel)]="jour" [minDate]="minDate" [maxDate]="maxDate"
                  [readonlyInput]="true" inputId="min-max"
                  dateFormat="dd/mm/yy" [locale]="fr"
                  placeholder="Choix d'une date"
                  (onSelect)="refreshChart();refreshVariation()"></p-calendar>
    </div>
    <div class="p-field p-col-12 p-md-3" *ngIf="jour">
      <p-calendar [(ngModel)]="jour2"
                  [minDate]="minDate" [maxDate]="maxDate"
                  [readonlyInput]="true" inputId="min-max"
                  dateFormat="dd/mm/yy" [locale]="fr"
                  placeholder="Choix d'une date pour comparaison"
                  (onSelect)="refreshChart();refreshVariation()"></p-calendar>
    </div>
    <div class="p-field-checkbox p-col-12 p-md-3">
      <p-checkbox [(ngModel)]="proportion" (onChange)="refreshChart()"
                  binary="true" inputId="binary"></p-checkbox>
      <label for="binary">Visualisation en pourcentage %</label>
    </div>
    <div class="p-field-checkbox p-col-12 p-md-3" *ngIf="jour && jour2">
      <p-checkbox [(ngModel)]="variation" (onChange)="refreshVariation()"
                  binary="true" inputId="binary"></p-checkbox>
      <label for="binary">Variation %</label>
    </div>
  </div>

  <p-chart *ngIf="jour && jour2 && variation" #chartVariation
           type="bar" [data]="variationData" width="1250"
           height="570"></p-chart>

  <p-chart #chart type="bar" [data]="data" width="1250" height="570"></p-chart>

</div>
